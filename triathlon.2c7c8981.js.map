{"mappings":"AAAA,IAAAA,MAAA,SAAAC,GAUI,IAAMC,EAAYC,WAAWF,GAC7BC,EAAUE,iBAAiB,SAAS,SAAUC,GAC5C,IAAMC,EAAYJ,EAAUK,aAAa,QAAQC,QAAQ,IAAK,IAE9DC,UADoBC,SAASC,eAAeL,IAE5CD,EAAEO,gB,KAELC,OAAA,SAAAC,GAMC,IAAMC,EAAKC,eAAeF,GAC1BC,EAAGX,iBAAiB,SAAS,SAAUC,GACrCY,WAAWF,EAAGG,QAAQ,WACtBb,EAAEO,gB,KA1BFT,WAAaO,SAASS,iBAAiB,eACvCC,KAAOV,SAASW,cAAc,QAC9BC,YAAcZ,SAASS,iBAAiB,iBAE1CI,QAAS,EAEPC,QAAU,IAEhB,GAAIrB,WAAWsB,OAAS,EACtB,IAAK,IAAIxB,MAAQ,EAAGA,MAAQE,WAAWsB,OAAQxB,QAAOD,MAAAC,OAWxD,IAAMe,eAAiBN,SAASS,iBAAiB,gBACjD,GAAIH,eAAeS,OAAS,EAC1B,IAAK,IAAIX,OAAQ,EAAGA,OAAQE,eAAeS,OAAQX,SAAOD,OAAAC,QAS5D,SAASL,UAAUiB,GAEjB,GADAC,QAAQC,IAAI,WACRF,GAAeH,OAAQ,CACzB,IAAMM,EAAcnB,SAASW,cAAc,eACvCQ,EACFZ,WAAWY,GAAa,GAExBC,WAEFJ,EAAYK,UAAUC,IAAI,QAC1BN,EAAYtB,iBAAiB,SAAS,SAAUC,GACzCA,EAAE4B,OAAOf,QAAQ,oBACpBD,WAAWZ,EAAE4B,OAAOf,QAAQ,U,KAMpC,SAASD,WAAWY,G,IAAaK,IAAAC,UAAAV,OAAA,YAAAU,UAAA,KAAeA,UAAA,GAC1CZ,SACFM,EAAYE,UAAUK,OAAO,QACzBF,GACFG,a,CAKN,SAASP,WACP,IAAMQ,EACJC,OAAOC,WAAa9B,SAASW,cAAc,YAAYoB,YAAc,KAEvE,GAAInB,YAAYG,OAAS,EACvB,IAAK,IAAIiB,EAAQ,EAAGA,EAAQpB,YAAYG,OAAQiB,IAAS,CAC5CpB,YAAYoB,GACpBC,MAAMC,aAAeN,C,CAG5BlB,KAAKuB,MAAMC,aAAeN,EAC1BlB,KAAKW,UAAUC,IAAI,QAEnBT,QAAS,EACTsB,YAAW,WACTtB,QAAS,C,GACRC,Q,CAGL,SAASa,aACPQ,YAAW,WACT,GAAIvB,YAAYG,OAAS,EACvB,IAAK,IAAIqB,EAAQ,EAAGA,EAAQxB,YAAYG,OAAQqB,IAAS,CAC5CxB,YAAYwB,GACpBH,MAAMC,aAAe,K,CAG5BxB,KAAKuB,MAAMC,aAAe,MAC1BxB,KAAKW,UAAUK,OAAO,O,GACrBZ,SAEHD,QAAS,EACTsB,YAAW,WACTtB,QAAS,C,GACRC,Q,CAGLd,SAASN,iBAAiB,WAAW,SAAUC,GAC7B,KAAZA,EAAE0C,OAEJ9B,WADoBP,SAASW,cAAc,e,IAOxC2B,QAAQC,UAAU/B,UAEZ8B,QAADC,UAAU/B,QAAU,SAAUgC,GAEpC,IADA,IAAIC,EAAOC,KACJD,GAAM,CACX,GAAIA,EAAKE,QAAQH,GAAM,OAAOC,EACzBA,EAAOA,EAAKG,a,CAEnB,OAAO,I,GAMNN,QAAQC,UAAUI,UAErBL,QAAQC,UAAUI,QAChBL,QAAQC,UAAUM,iBAClBP,QAAQC,UAAUO,uBAClBR,QAAQC,UAAUQ,oBAClBT,QAAQC,UAAUS","sources":["src/js/popups.js"],"sourcesContent":["const popupLinks = document.querySelectorAll('.popup-link');\nconst body = document.querySelector('body');\nconst lockPadding = document.querySelectorAll('.lock-padding');\n\nlet unlock = true;\n\nconst timeout = 100;\n\nif (popupLinks.length > 0) {\n  for (let index = 0; index < popupLinks.length; index++) {\n    const popupLink = popupLinks[index];\n    popupLink.addEventListener('click', function (e) {\n      const popupName = popupLink.getAttribute('href').replace('#', '');\n      const curentPopup = document.getElementById(popupName);\n      popupOpen(curentPopup);\n      e.preventDefault();\n    });\n  }\n}\n\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\nif (popupCloseIcon.length > 0) {\n  for (let index = 0; index < popupCloseIcon.length; index++) {\n    const el = popupCloseIcon[index];\n    el.addEventListener('click', function (e) {\n      popupClose(el.closest('.popup'));\n      e.preventDefault();\n    });\n  }\n}\n\nfunction popupOpen(curentPopup) {\n  console.log('opening');\n  if (curentPopup && unlock) {\n    const popupActive = document.querySelector('.popup.open');\n    if (popupActive) {\n      popupClose(popupActive, false);\n    } else {\n      bodyLock();\n    }\n    curentPopup.classList.add('open');\n    curentPopup.addEventListener('click', function (e) {\n      if (!e.target.closest('.popup__content')) {\n        popupClose(e.target.closest('.popup'));\n      }\n    });\n  }\n}\n\nfunction popupClose(popupActive, doUnlock = true) {\n  if (unlock) {\n    popupActive.classList.remove('open');\n    if (doUnlock) {\n      bodyUnLock();\n    }\n  }\n}\n\nfunction bodyLock() {\n  const lockPaddingValue =\n    window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\n\n  if (lockPadding.length > 0) {\n    for (let index = 0; index < lockPadding.length; index++) {\n      const el = lockPadding[index];\n      el.style.paddingRight = lockPaddingValue;\n    }\n  }\n  body.style.paddingRight = lockPaddingValue;\n  body.classList.add('lock');\n\n  unlock = false;\n  setTimeout(function () {\n    unlock = true;\n  }, timeout);\n}\n\nfunction bodyUnLock() {\n  setTimeout(function () {\n    if (lockPadding.length > 0) {\n      for (let index = 0; index < lockPadding.length; index++) {\n        const el = lockPadding[index];\n        el.style.paddingRight = '0px';\n      }\n    }\n    body.style.paddingRight = '0px';\n    body.classList.remove('lock');\n  }, timeout);\n\n  unlock = false;\n  setTimeout(function () {\n    unlock = true;\n  }, timeout);\n}\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.which === 27) {\n    const popupActive = document.querySelector('.popup.open');\n    popupClose(popupActive);\n  }\n});\n\n(function () {\n  // проверяем поддержку\n  if (!Element.prototype.closest) {\n    // реализуем\n    Element.prototype.closest = function (css) {\n      var node = this;\n      while (node) {\n        if (node.matches(css)) return node;\n        else node = node.parentElement;\n      }\n      return null;\n    };\n  }\n})();\n(function () {\n  // проверяем поддержку\n  if (!Element.prototype.matches) {\n    // определяем свойство\n    Element.prototype.matches =\n      Element.prototype.matchesSelector ||\n      Element.prototype.webkitMatchesSelector ||\n      Element.prototype.mozMatchesSelector ||\n      Element.prototype.msMatchesSelector;\n  }\n})();\n"],"names":["_loop","index","popupLink","popupLinks","addEventListener","e","popupName","getAttribute","replace","popupOpen","document","getElementById","preventDefault","_loop1","index1","el","popupCloseIcon","popupClose","closest","querySelectorAll","body","querySelector","lockPadding","unlock","timeout","length","curentPopup","console","log","popupActive","bodyLock","classList","add","target","doUnlock","arguments","remove","bodyUnLock","lockPaddingValue","window","innerWidth","offsetWidth","index2","style","paddingRight","setTimeout","index3","which","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],"version":3,"file":"triathlon.2c7c8981.js.map"}